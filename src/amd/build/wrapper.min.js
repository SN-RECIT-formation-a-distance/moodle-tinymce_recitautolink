define("tiny_recitautolink/wrapper",["exports","./options"],(function(_exports,_options){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.Editor=void 0;_exports.Editor=class{constructor(){var obj,key,value;value=null,(key="appReact")in(obj=this)?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}open(editor){this.editor=editor;var js=M.cfg.wwwroot+"/lib/editor/tiny/plugins/recitautolink/react/build/index.js",content=document.createElement("div");if(content.setAttribute("id","recitautolink_container"),this.createPopup(content),document.getElementById("recitautolink"))this.loadUi();else{var script=document.createElement("script");script.onload=this.loadUi.bind(this),script.setAttribute("src",js),script.setAttribute("id","recitautolink"),script.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(script)}}get(k){return(0,_options.getCourseId)(this.editor)}createPopup(content){let modal=document.createElement("div");modal.classList.add("modal","fade","autolink_popup"),modal.setAttribute("style","overflow-y: hidden;");let inner2=document.createElement("div");inner2.classList.add("modal-dialog"),inner2.classList.add("modal-xl"),modal.appendChild(inner2);let inner=document.createElement("div");inner.classList.add("modal-content"),inner2.appendChild(inner);let header=document.createElement("div");header.classList.add("modal-header"),header.innerHTML="<h2>"+M.util.get_string("pluginname","tiny_recitautolink")+"</h2>",inner.appendChild(header);let btn=document.createElement("button");btn.classList.add("close"),btn.innerHTML='<span aria-hidden="true">&times;</span>',btn.setAttribute("data-dismiss","modal"),btn.onclick=this.destroy.bind(this),header.appendChild(btn);let body=document.createElement("div");body.classList.add("modal-body"),inner.appendChild(body),body.appendChild(content),document.body.appendChild(modal),this.popup=modal,this.popup.classList.add("show"),this.backdrop=document.createElement("div"),this.backdrop.classList.add("modal-backdrop","fade","show"),this.backdrop.setAttribute("data-backdrop","static"),document.body.appendChild(this.backdrop)}destroy(){this.popup.classList.remove("show"),this.backdrop.classList.remove("show"),this.popup.remove(),this.backdrop.remove(),this.appReact&&this.appReact.unmount()}update(){}loadUi(){if(window.openRecitAutolinkUI){let classHandler={get:v=>this.get(v),close:v=>this.close(v)};this.appReact=window.openRecitAutolinkUI(classHandler)}}close(code){this.destroy(),code&&this.editor.execCommand("mceInsertContent",!1,code)}}}));

//# sourceMappingURL=wrapper.min.js.map